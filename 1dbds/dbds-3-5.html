    <!doctype html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />
        <meta name="apple-mobile-web-app-capable" content="yes" />

<!-- 修改页面标题 -->
        <title>DB & DS | HUST</title>

<!-- 修改 content -->
        <meta name="description" content="数据库与数据结构课程使用, 为哈尔滨理工大学经济管理学院信息管理与信息系统专业设计. " />
        <meta name="author" content="xinjiang@hrbust.edu.cn" />

<!-- 引入数学公式 -->
        <script type="text/javascript">
            window.MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
              },
              chtml: {
                scale: 0.95
              }
            };
        </script>
        <script src="../extras/mathjax/tex-chtml-full.js"></script>
<!-- 引入完毕 -->

        <link href="../css/impress-course.css" rel="stylesheet" />
        <link href="../css/impress-common.css" rel="stylesheet" />

        <link rel="shortcut icon" href="../hustlogo72.png" />
        <link rel="stylesheet" href="../extras/highlight/styles/github.css">

    </head>

    <body class="impress-not-supported">

<!-- 左上角加上 logo -->
    <div class="logo"></div>

    <div class="fallback-message">
        <p>你的浏览器不支持本网站所要求的功能, 现在看到的是本网站简化版本.</p>
        <p>为了获得最佳体验, 请使用最新的Chrome, Safari, Firefox 或 Edge 浏览器.</p>

    </div>

    <div 
    id                       = "impress" 
    data-transition-duration = "1000" 
    data-width               = "1024" 
    data-height              = "768" 
    data-max-scale           = "3" 
    data-min-scale           = "0" 
    data-perspective         = "1000" 
    data-autoplay            = "0">

<!-- 每一节 slide 的标题是 cxyt", 表示章节标题. 如第一章第一节标题就是 c11t, 第三章第二节标题就是 c32t -->
<!-- 每一节 slide 的标题页 class 应该是 step, 不是 step markdown -->
<!-- 类似地, 需要 HTML 排版的 slide,class 都是 step; 可以使用 markdown 的, class 才是 step markdown -->

    <div 
    id         = "overview" 
    data-x     = "0" 
    data-y     = "0" 
    class      = "step" 
    data-scale = "10">

    </div>

<!-- 修改 id -->

    <div 
    id         = "c35t"
    class      = "step"
    data-x     = "0"
    data-y     = "0"
    data-z     = "0"
    data-scale = "5">

    <!-- 修改标题 -->
        <h2>3. 关系数据库标准语言 SQL</h2>
        <h3 style="text-align: center">3.5 数据更新</h3>
        <p class="footnote">
            <inlinecode style="font-size: 16px">
            Powered by 
            </inlinecode>
                <a href="https://github.com/impress/impress.js/">
                    <inlinecode style="font-size: 16px">
                    impress.js
                    </inlinecode>
                    <img class="icon" src="../favicon.png" style="width:10px;height:10px;">
                </a>
                <br/>
                <inlinecode style="font-size: 16px">
                    Ver. 2408
                </inlinecode>
            </inlinecode>
        </p>

    </div>
        
    <div 
    id            = "a1"
    class         = "step markdown"
    data-rel-to   = "c35t"
    data-rel-x    = "-1000"
    data-rel-y    = "200"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 数据更新操作

- 向表中添加数据
- 修改表中的数据
- 删除表中的数据

    </div>

    <div 
    id            = "a2"
    class         = "step markdown"
    data-rel-to   = "a1"
    data-rel-x    = "0"
    data-rel-y    = "700"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 插入数据

- 插入一个元组
- 插入子查询结果

    </div>

    <div 
    id            = "a3"
    class         = "step markdown"
    data-rel-to   = "a2"
    data-rel-x    = "-1600"
    data-rel-y    = "0"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 插入元组

    INSERT
    INTO <表名> [(<属性列 1> [,<属性列 2>]...)]
    VALUES (<常量 1> [,<常量 2>]...);

    </div>

    <div 
    id            = "a4"
    class         = "step markdown"
    data-rel-to   = "a3"
    data-rel-x    = "1600"
    data-rel-y    = "900"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 插入功能

- 将新元组插入到指定表中
- 新元组的 <属性列 1> 的值为 <常量 1>
- 其它以此类推
- 新元组在 INTO 子句中没出现的属性列上取空值
- 表定义时 NOT NULL 的属性列不能取空值
- 如果 INTO 子句中没有指明任何属性列名, 则新插入的元组必须在每个属性列上都有值

    </div>

    <div 
    id            = "a5"
    class         = "step markdown"
    data-rel-to   = "a4"
    data-rel-x    = "-1600"
    data-rel-y    = "0"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 69

    INSERT
    INTO Student (Sno, Sname, Ssex, Sdept, Sage)
    VALUES ('2012151281', '陈冬', '男', 'IS', 18);
- 将一个新元组插入到 Student 表中
- 属性顺序可以与 CREATE TABLE 中的顺序不一样

    </div>

    <div 
    id            = "a6"
    class         = "step markdown"
    data-rel-to   = "a5"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 70

    INSERT
    INTO Student
    VALUES ('201215126', '张成民', '男', 18, 'CS');
- 将学生信息插入到 Student 表中
- 新元组在表的所有属性列上都指定值
- 属性列的次序与 CREATE TABLE 中的次序相同

    </div>

    <div 
    id            = "a7"
    class         = "step markdown"
    data-rel-to   = "a6"
    data-rel-x    = "1600"
    data-rel-y    = "0"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 插入子查询结果

    INSERT
    INTO <表名> [(<属性列 1> [, <属性列 2>... )]
    子查询;
- 子査询可以嵌套在 INSERT 语句中, 生成要插入的批量数据

    </div>

    <div 
    id            = "a8"
    class         = "step markdown"
    data-rel-to   = "a7"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 72

    INSERT
    INTO Dept_age(Sdept, Avg_age)
    SELECT Sdept, AVG(Sage) FROM Student
    GROUP BY Sdept;
- 对每一个系求学生的平均年龄并存入数据库

    </div>

    <div 
    id            = "a9"
    class         = "step markdown"
    data-rel-to   = "c35t"
    data-rel-x    = "800"
    data-rel-y    = "1200"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 修改数据

    UPDATE <表名>
    SET <列名> = <表达式> [,<列名> = <表达式>]...
    [WHERE <条件>];
- 又称为更新操作
- 修改指定表中满足 WHERE 子句条件的元组
- SET 子句给出 <表达式> 的值

    </div>

    <div 
    id            = "a10"
    class         = "step markdown"
    data-rel-to   = "a9"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 修改某一元组

    UPDATE Student
    SET Sage = 22
    WHERE Sno = '201215121';
- 将学生 201215121 的年龄改为22岁

    </div>

    <div 
    id            = "a11"
    class         = "step markdown"
    data-rel-to   = "a10"
    data-rel-x    = "0"
    data-rel-y    = "900"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 修改多个元组

    UPDATE Student
    SET Sage = Sage + 1;
- 将所有学生年龄增加 1 岁

    </div>

    <div 
    id            = "a12"
    class         = "step markdown"
    data-rel-to   = "a11"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 带子查询的修改语句

    UPDATE SC
    SET Grade = 0
    WHERE Sno IN
    (SELETE Sno
    FROM Student
    WHERE Sdept = 'CS');
- 将计算机科学系全体学生的成绩置零

    </div>

    <div 
    id            = "a13"
    class         = "step markdown"
    data-rel-to   = "c35t"
    data-rel-x    = "2400"
    data-rel-y    = "200"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 删除数据

    DELETE
    FROM <表名>
    [WHERE <条件>];
- 从指定表中删除满足 WHERE 子句条件的所有元组
- DELETE 删除的是表中数据, 而不是表定义

    </div>

    <div 
    id            = "a14"
    class         = "step markdown"
    data-rel-to   = "a13"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 删除某一个元组

    DELETE
    FROM Student
    WHERE Sno ='201215128';
- 删除学生记录

    </div>

    <div 
    id            = "a15"
    class         = "step markdown"
    data-rel-to   = "a14"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 删除多个元组

    DELETE
    FROM SC;
- 删除所有的学生选课记录

    </div>

    <div 
    id            = "a16"
    class         = "step markdown"
    data-rel-to   = "a15"
    data-rel-x    = "0"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 带子查询的删除语句

    DELETE
    FROM SC
    WHERE Sno IN
    (SELECT Sno
    FROM Student
    WHERE Sdept = 'CS');
- 删除计算机科学系所有学生的选课记录

    </div>

    <div
    id            = "mm35"
    class         = "step markdown"
    data-rel-to   = "c35t"
    data-rel-x    = "0"
    data-rel-y    = "-2000"
    data-rotate-y = "0"
    data-rotate   = "0"
    data-scale    = "1">

![course 3.5 mindmap](img/c03/mindmap-3-5.png)

    </div>

<!-- 本节问题 -->

    <div
    id            = "c35q"
    class         = "step markdown"
    data-rel-to   = "c35t"
    data-rel-x    = "0"
    data-rel-y    = "-800"
    data-z        = "500"
    data-rotate-x = "77"
    data-rotate-y = "0"
    data-rotate-z = "180"
    data-scale    = "2">

### 3.5 数据更新

- 如何向特定表中添加新的数据元组?
- 如果未在 INTO 子句中指定某个属性列, 那么这个属性列的值是什么?
- 如何将子查询结果插入到表中?
- 如何使用 UPDATE 语句修改特定表中的数据?
- 如何在 SQL 中删除指定表中的某一元组?

----

[ 3.4 数据查询](dbds-3-4.html#/overview)
[| 练习 |](dbds-exec.html)
[ 3.6 视图](dbds-3-6.html#/overview)

    </div>

    </div>

    <!--
    <div id="impress-toolbar"></div>
    <div id="impress-help"></div>

    <script>
    if ("ontouchstart" in document.documentElement) { 
        document.querySelector(".hint").innerHTML = "<p>Swipe left or right to navigate</p>";
    }
    </script>
    -->

    <!-- 页面下方显示进度条 -->
    <div class="impress-progressbar">
        <div></div>
    </div>

    <!-- 页面下方显示当前页/总页数 -->
    <div class="impress-progress"></div>

    <!-- 使用 markdown 写简单页面 -->
    <script type="text/javascript" src="../extras/markdown/markdown.js"></script>

    <!-- 语法高亮,配合<head>中的 highlight css 起作用 -->
    <script src="../extras/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- impress.js 需要放在最下面,并且初始化 -->
    <script src="../js/impress.js"></script>
    <script>impress().init();</script>
    </body>
    </html>
