    <!doctype html>
    <html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />
        <meta name="apple-mobile-web-app-capable" content="yes" />

<!-- 修改页面标题 -->
        <title>DB & DS | HUST</title>

<!-- 修改 content -->
        <meta name="description" content="数据库与数据结构课程使用, 为哈尔滨理工大学经济管理学院信息管理与信息系统专业设计. " />
        <meta name="author" content="xinjiang@hrbust.edu.cn" />

<!-- 引入数学公式 -->
        <script type="text/javascript">
            window.MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
              },
              chtml: {
                scale: 0.95
              }
            };
        </script>
        <script src="../extras/mathjax/tex-chtml-full.js"></script>
<!-- 引入完毕 -->

        <link href="../css/impress-course.css" rel="stylesheet" />
        <link href="../css/impress-common.css" rel="stylesheet" />

        <link rel="shortcut icon" href="../hustlogo72.png" />
        <link rel="stylesheet" href="../extras/highlight/styles/github.css">

    </head>

    <body class="impress-not-supported">

<!-- 左上角加上 logo -->
    <div class="logo"></div>

    <div class="fallback-message">
        <p>你的浏览器不支持本网站所要求的功能, 现在看到的是本网站简化版本.</p>
        <p>为了获得最佳体验, 请使用最新的Chrome, Safari, Firefox 或 Edge 浏览器.</p>

    </div>

    <div 
    id                       = "impress" 
    data-transition-duration = "1000" 
    data-width               = "1024" 
    data-height              = "768" 
    data-max-scale           = "3" 
    data-min-scale           = "0" 
    data-perspective         = "1000" 
    data-autoplay            = "0">

<!-- 每一节 slide 的标题是 cxyt", 表示章节标题. 如第一章第一节标题就是 c11t, 第三章第二节标题就是 c32t -->
<!-- 每一节 slide 的标题页 class 应该是 step, 不是 step markdown -->
<!-- 类似地, 需要 HTML 排版的 slide,class 都是 step; 可以使用 markdown 的, class 才是 step markdown -->

    <div 
    id         = "overview" 
    data-x     = "0" 
    data-y     = "0" 
    class      = "step" 
    data-scale = "10">

    </div>

<!-- 修改 id -->

    <div 
    id         = "c41t"
    class      = "step"
    data-x     = "0"
    data-y     = "0"
    data-z     = "0"
    data-scale = "5">

    <!-- 修改标题 -->
        <h2>4. 关系数据理论</h2>
        <h3 style="text-align: center">4.1 问题的提出</h3>
        <p class="footnote">
            <inlinecode style="font-size: 16px">
            Powered by 
            </inlinecode>
                <a href="https://github.com/impress/impress.js/">
                    <inlinecode style="font-size: 16px">
                    impress.js
                    </inlinecode>
                    <img class="icon" src="../favicon.png" style="width:10px;height:10px;">
                </a>
                <br/>
                <inlinecode style="font-size: 16px">
                    Ver. 2408
                </inlinecode>
            </inlinecode>
        </p>

    </div>
        
    <div 
    id            = "a1"
    class         = "step markdown"
    data-rel-to   = "c41t"
    data-rel-x    = "-1100"
    data-rel-y    = "50"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 如何构造适合的数据库

- 应该构造几个关系模式
- 每个关系由哪些属性组成
- 这是关系数据库逻辑设计问题
- 关系数据库的规范化理论

    </div>

    <div 
    id            = "a2"
    class         = "step markdown"
    data-rel-to   = "a1"
    data-rel-x    = "-200"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 关系模式的定义

- 五元组 $R(U, D, DOM, F)$
- 关系名 $R$ 是符号化的元组语义
- $U$ 为一组属性
- $DOM$ 为属性到域的映射
- $F$ 为属性组 $U$ 上的一组数据依赖
- 本章使用三元组 $R(U, F)$
- 当且仅当 $R$ 上的一个关系 $r$ 满足 $F$ 时, $r$ 称为关系模式 $R(U)$ 的一个关系

    </div>

    <div 
    id            = "a3"
    class         = "step markdown"
    data-rel-to   = "a2"
    data-rel-x    = "200"
    data-rel-y    = "1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 第一范式 (1NF)

- 关系的每一个分量必须是不可分的数据项
- 这样的关系模式属于第一范式 (1NF)

    </div>

    <div 
    id            = "a4"
    class         = "step markdown"
    data-rel-to   = "c41t"
    data-rel-x    = "400"
    data-rel-y    = "1300"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 数据依赖

- 一个关系内部属性与属性之间的一种约束关系
- 通过属性间值的相等与否体现
- 是现实世界属性间相互联系的抽象
- 是数据内在的性质
- 是语义的体现
- 函数依赖 (Functional Dependency, FD)
- 多值依赖 (Multi-Valued Dependency, MVD)

    </div>

<!-- 多值依赖表示关系的一个或多个属性独立于其他若干个属性 -->

    <div 
    id            = "a5"
    class         = "step markdown"
    data-rel-to   = "a4"
    data-rel-x    = "0"
    data-rel-y    = "1200"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 函数依赖

- 某个属性或属性组确定其他属性或属性组
- 例如学号确定姓名, 系名
- 即 Sno 函数决定 Sname，Sno 函数决定 Sdept
- 记作 $Sno \to Sname, Sno \rightarrow Sdept$
- 或 Sname 函数依赖于 Sno, Sdept 函数依赖于 Sno

    </div>

<!-- 函数依赖是 "码" 概念的泛化 -->

    <div 
    id            = "a7"
    class         = "step markdown"
    data-rel-to   = "c41t"
    data-rel-x    = "2000"
    data-rel-y    = "-1200"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 1

- 关系模式 Student 包含Sno, Sdept, Mname, Cno, Grade
- 记作 $U = \lbrace Sno, Sdept, Mname, Cno, Grade \rbrace$
- 一个系有若干学生
- 一个学生只属于一个系
- 一个系只有一名负责人
- 一个学生可以选修多门课程
- 每门课程有若干学生选修
- 每个学生学习每一门课程有一个成绩

    </div>

    <div 
    id            = "a8"
    class         = "step markdown"
    data-rel-to   = "a7"
    data-rel-x    = "0"
    data-rel-y    = "1200"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 1 实例

- $r = \lbrace Sno, Sdept, Mname, Cno, Grade \rbrace$
- $r_1 = \lbrace S1, 计算机系, 张明, C1, 95 \rbrace$
- $r_2 = \lbrace S2, 计算机系, 张明, C1, 90 \rbrace$
- $r_3 = \lbrace S3, 计算机系, 张明, C1, 88 \rbrace$
- $r_4 = \lbrace S4, 计算机系, 张明, C1, 70 \rbrace$
- $r_5 = \lbrace S5, 计算机系, 张明, C1, 78 \rbrace$

    </div>

    <div 
    id            = "a9"
    class         = "step markdown"
    data-rel-to   = "a8"
    data-rel-x    = "0"
    data-rel-y    = "900"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 1 函数依赖

- $Sno \to Sdept$
- $Sdept \to Mname$
- $(Sno, Cno) \to Grade$

    </div>

    <div 
    id            = "a10"
    class         = "step markdown"
    data-rel-to   = "a9"
    data-rel-x    = "0"
    data-rel-y    = "800"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 1 关系模式

- $Student(U, F)$
- $U = \lbrace Sno, Sdept, Mname, Cno, Grade \rbrace$
- $F = \lbrace Sno \to Sdept, Sdept \to Mname,$
- $(Sno, Cno) \to Grade \rbrace$

    </div>

    <div
    id            = "a11"
    class         = "step markdown"
    data-rel-to   = "a10"
    data-rel-x    = "0"
    data-rel-y    = "-1000"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

![Example 1](img/c04/ex-6-1.svg)
#### Example 1

    </div>

    <div 
    id            = "a12"
    class         = "step markdown"
    data-rel-to   = "a11"
    data-rel-x    = "0"
    data-rel-y    = "1800"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 该关系模式的问题

- 数据冗余: 系主任重复出现
- 更新异常: 更换系主任
- 插入异常: 一个系刚成立
- 删除异常: 某系学生全部毕业

    </div>

    <div 
    id            = "a13"
    class         = "step markdown"
    data-rel-to   = "a12"
    data-rel-x    = "0"
    data-rel-y    = "800"
    data-rel-z    = "0"
    data-rotate-y = "0"
    data-scale    = "2">

### 例 1 改善

- $S ( Sno, Sdept, Sno \to Sdept )$
- $SC ( Sno, Cno, Grade, ( Sno, Cno ) \to Grade )$
- $DEPT ( Sdept, Mname, Sdept \to Mname )$

    </div>

    <div
    id            = "mm41"
    class         = "step markdown"
    data-rel-to   = "c41t"
    data-rel-x    = "0"
    data-rel-y    = "-2000"
    data-rotate-y = "0"
    data-rotate   = "0"
    data-scale    = "1">

![course 4.1 mindmap](img/c04/mindmap-4-1.png)

    </div>

<!-- 本节问题 -->

    <div
    id            = "c41q"
    class         = "step markdown"
    data-rel-to   = "c41t"
    data-rel-x    = "0"
    data-rel-y    = "-800"
    data-z        = "500"
    data-rotate-x = "77"
    data-rotate-y = "0"
    data-rotate-z = "180"
    data-scale    = "2">

### 4.1 问题的提出

- 什么是第一范式?
- 什么是函数依赖?
- 列出你设计的关系模式中的函数依赖.
- 根据本课内容, 列出你的关系模式中存在的问题.

----

[ 3.6 视图](dbds-3-6.html#/overview)
[| 练习 |](dbds-exec.html)
[ 4.2 规范化](dbds-4-2.html#/overview)

    </div>

    </div>

    <!--
    <div id="impress-toolbar"></div>
    <div id="impress-help"></div>

    <script>
    if ("ontouchstart" in document.documentElement) { 
        document.querySelector(".hint").innerHTML = "<p>Swipe left or right to navigate</p>";
    }
    </script>
    -->

    <!-- 页面下方显示进度条 -->
    <div class="impress-progressbar">
        <div></div>
    </div>

    <!-- 页面下方显示当前页/总页数 -->
    <div class="impress-progress"></div>

    <!-- 使用 markdown 写简单页面 -->
    <script type="text/javascript" src="../extras/markdown/markdown.js"></script>

    <!-- 语法高亮,配合<head>中的 highlight css 起作用 -->
    <script src="../extras/highlight/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>

    <!-- impress.js 需要放在最下面,并且初始化 -->
    <script src="../js/impress.js"></script>
    <script>impress().init();</script>
    </body>
    </html>
